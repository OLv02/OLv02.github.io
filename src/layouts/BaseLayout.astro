---
// BaseLayout.astro - Root layout with theme selector
// This is the ONLY place where <html> tag should exist
import '../styles/global.css';
import ThemeScript from '../components/ThemeScript.astro';

interface Props {
  bodyClass?: string;
}

const { bodyClass } = Astro.props;
const retroBgUrl = `${import.meta.env.BASE_URL}assets/retro/raindrop-bg-tile.jpg`;
---

<!doctype html>
<html lang="en" data-theme="modern" style={`--retro-bg-image: url("${retroBgUrl}")`}>
  <head>
    <!-- Theme script must run FIRST to prevent FOUC -->
    <ThemeScript />
    <slot name="head" />
  </head>
  <body class:list={["site-shell", "site-surface", bodyClass]}>
    <slot />
  </body>
</html>
